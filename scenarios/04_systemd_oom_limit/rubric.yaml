variables:
  drop_in_file_name: 50-MemoryMax.conf
  drop_in_file_path: /etc/systemd/system.control/chronyd.service.d/50-MemoryMax.conf
  mem_peak_display_value: 1M
  memory_max_display_value: 1 MB
  memory_max_raw_value: '1048576'
  oom_kill_reason: oom-kill
  service_full_name: chronyd.service
  service_name: chronyd
dimensions:
- diagnosis_accuracy: Evaluates whether the assistant correctly identified the root
    cause of the service failure.
  grading_type: score
  scores:
    0: Failed to identify the problem or provided completely incorrect diagnosis.
    1: Partially identified the problem but missed the OOM/memory limit root cause.
    2: Identified memory/OOM as an issue but didn't fully explain the systemd limit
      configuration.
    3: Correctly identified OOM kill due to systemd memory limit and located the
      drop-in configuration file.
- investigation_process: Evaluates the effectiveness of the troubleshooting approach.
  grading_type: score
  scores:
    0: Failed to gather relevant diagnostic information.
    1: Gathered some information but missed critical evidence.
    2: Gathered most relevant information with minor gaps.
    3: Comprehensively investigated logs, service status, and configuration files.
- solution_correctness: Evaluates whether the proposed solution would actually resolve
    the OOM issue.
  grading_type: score
  scores:
    0: Solution would not fix the problem or would cause additional issues.
    1: Solution is partially correct but incomplete.
    2: Solution would work but is missing important details or verification steps.
    3: Solution is completely correct and would fully resolve the issue.
- solution_completeness: Evaluates whether all necessary remediation steps are included.
  grading_type: binary
- factual_accuracy: Evaluates whether all information provided is factually correct.
  grading_type: binary
- clarity_and_organization: Evaluates the readability and structure of the response.
  grading_type: score
  scores:
    0: Response is unintelligible or completely unorganized.
    1: Response is difficult to understand or poorly structured.
    2: Response is generally clear and organized but could be improved.
    3: Response is exceptionally clear, well-structured, and easy to follow.
criteria:
  root_cause_identification:
    category: Diagnosis
    weight: 5
    dimension: diagnosis_accuracy
    criterion: The assistant correctly identifies that {{service_name}} is being killed
      by the OOM killer due to a systemd memory limit (MemoryMax).
  configuration_file_identification:
    category: Diagnosis
    weight: 4
    dimension: diagnosis_accuracy
    criterion: The assistant identifies the drop-in configuration file ({{drop_in_file_name}}
      or path in /etc/systemd/system/chronyd.service.d/) that enforces the memory
      limit.
  log_evidence_gathering:
    category: Investigation
    weight: 3
    dimension: investigation_process
    criterion: The assistant gathers relevant evidence from logs (journal logs, dmesg,
      or service status) showing OOM kill or memory-related failures, regardless of
      the specific tool used.
  logical_troubleshooting_approach:
    category: Investigation
    weight: 3
    dimension: investigation_process
    criterion: The assistant follows a logical troubleshooting approach such as checking
      service status, examining logs for OOM messages, and inspecting systemd configuration.
  correct_remediation_approach:
    category: Remediation
    weight: 5
    dimension: solution_correctness
    criterion: The solution correctly removes or increases the memory limit, using
      methods like systemctl revert or editing/removing the drop-in file.
  complete_remediation_steps:
    category: Remediation
    weight: 3
    dimension: solution_completeness
    criterion: The solution includes all necessary steps such as removing/reverting
      the limit, reloading systemd configuration (if needed), restarting the service,
      and verifying functionality.
  factual_accuracy_memory_limit:
    category: Accuracy
    weight: 2
    dimension: factual_accuracy
    criterion: The assistant correctly interprets the MemoryMax value ({{memory_max_raw_value}}
      = {{memory_max_display_value}}) and explains why it causes OOM.
  explanation_clarity:
    category: Communication
    weight: 2
    dimension: clarity_and_organization
    criterion: The assistant clearly explains the OOM issue, the systemd resource
      limit mechanism, and why the service is failing.
